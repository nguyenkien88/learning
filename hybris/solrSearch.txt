



use case for kd: e.g. https://goodsmile-global.local:9002/kadokawaacceleratorstorefront/?sort=productPrivilegeFlg&q=%3AproductPrivilegeFlg
  using rest request for searching
    e.g. yq=*:*&q={!boost}(%2B{!lucene+v%3D$yq})&fq=allCategories_string_mv:CATEGORY\-ROOT&fq=(catalogId:"GSLS_GL\-PRODUCTCATALOG"+AND+catalogVersion:"Online")&sort=productPrivilegeFlg_boolean+desc&start=0&rows=40&facet.field=salesMethod_string&facet.field=price_jpy_string&facet.field=allPromotions_string_mv&facet.field=categoryPath_string_mv&facet.field=allCategories_string_mv&facet.field=displaySite_string_mv&facet.field=category_string_mv&facet.field=stockLevelStatus_string&facet=true&facet.sort=count&facet.mincount=1&facet.limit=50&fl=score,*
  GslsCategoryProductListGridComponentController
    calls productSearchFacade.categorySearch(searchQuery, pagingInfo)
      which calls productSearchService.searchAgain(searchQuery, pagingInfo)
	    which calls DefaultSolrProductSearchService.doSearch(searchQuery, pagingInfo) 
		  execute the search
		    call DefaultFacetSearchService.search()
			  which calls DefaultFacetSearchStrategy.search
			return solrSearchResponse which contains SolrDocuments result
		  then call defaultVisibilityFilteringSolrSearchResponseConverter to covert the response
		  which use many populators to convert the search response (note:a converter e.g. defaultVisibilityFilteringSolrSearchResponseConverter inherits all populators from parent e.g. abstractPopulatingConverter)
	  then call gslsProductCategorySearchPageConverter to convert the result
	    which calls gslsProductCategorySearchPagePopulator
		  which calls defaultCommerceSearchResultProductConverter
		    which calls gslsSearchResultProductPopulator
			
  GslsSolrQueryPostProcessor - solrQueryPostProcessors
    is used in defaultSolrQueryConverter
	  which is used in DefaultFacetSearchService (5.4 only)
	    => add more criteria to the search e.g. hanbaiEndDateDouble
		=> change the DefaultFacetSearchStrategy to legacyFacetSearchStrategy
		
    
			
			
			
			  
		  
		
		  
